<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Python笔试面试题</title>
  
  <subtitle>人生苦短，我用Python</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://www.codingonway.com/"/>
  <updated>2017-09-19T03:52:04.894Z</updated>
  <id>http://www.codingonway.com/</id>
  
  <author>
    <name>大师兄</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>面试题101 交换字典的键和值</title>
    <link href="http://www.codingonway.com/swap-dict-keys-and-values.html"/>
    <id>http://www.codingonway.com/swap-dict-keys-and-values.html</id>
    <published>2017-09-19T03:11:16.000Z</published>
    <updated>2017-09-19T03:52:04.894Z</updated>
    
    <content type="html"><![CDATA[<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>如何交换字典的键和值？有如下字典：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">d = &#123;<span class="string">'A'</span> : <span class="number">1</span>, <span class="string">'B'</span> : <span class="number">2</span>, <span class="string">'C'</span> : <span class="number">3</span>&#125;</div></pre></td></tr></table></figure></p><p>交换后的结果如下：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;<span class="number">1</span>: <span class="string">'A'</span>, <span class="number">2</span>: <span class="string">'B'</span>, <span class="number">3</span>: <span class="string">'C'</span>&#125;</div></pre></td></tr></table></figure></p><a id="more"></a><h2 id="字典推导式"><a href="#字典推导式" class="headerlink" title="字典推导式"></a>字典推导式</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'A'</span> : <span class="number">1</span>, <span class="string">'B'</span> : <span class="number">2</span>, <span class="string">'C'</span> : <span class="number">3</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>d1 = &#123;v:k <span class="keyword">for</span> k,v <span class="keyword">in</span> d.items()&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>d1</div><div class="line">&#123;<span class="number">1</span>: <span class="string">'A'</span>, <span class="number">2</span>: <span class="string">'B'</span>, <span class="number">3</span>: <span class="string">'C'</span>&#125;</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure><h2 id="生成器表达式-dict"><a href="#生成器表达式-dict" class="headerlink" title="生成器表达式 + dict()"></a>生成器表达式 + dict()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'A'</span> : <span class="number">1</span>, <span class="string">'B'</span> : <span class="number">2</span>, <span class="string">'C'</span> : <span class="number">3</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>d2 = dict((v,k) <span class="keyword">for</span> k,v <span class="keyword">in</span> d.items())</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>d2</div><div class="line">&#123;<span class="number">1</span>: <span class="string">'A'</span>, <span class="number">2</span>: <span class="string">'B'</span>, <span class="number">3</span>: <span class="string">'C'</span>&#125;</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure><h2 id="zip-dict"><a href="#zip-dict" class="headerlink" title="zip() + dict()"></a>zip() + dict()</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'A'</span> : <span class="number">1</span>, <span class="string">'B'</span> : <span class="number">2</span>, <span class="string">'C'</span> : <span class="number">3</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>d3 = dict(zip(d.values(), d.keys()))</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>d3</div><div class="line">&#123;<span class="number">1</span>: <span class="string">'A'</span>, <span class="number">2</span>: <span class="string">'B'</span>, <span class="number">3</span>: <span class="string">'C'</span>&#125;</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure><h2 id="讨论"><a href="#讨论" class="headerlink" title="讨论"></a>讨论</h2><p>字典中的键必须是可哈希的不可变对象，值可以是任意对象。因此交换字典的键和值可能会有两种意外情况。<br>无法交换字典的键和值，原因是字典的值是不可哈希的。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'A'</span> : <span class="number">1</span>, <span class="string">'B'</span> : [<span class="number">2</span>], <span class="string">'C'</span> : <span class="number">3</span> &#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>d4 = &#123;v:k <span class="keyword">for</span> k,v <span class="keyword">in</span> d.items()&#125;</div><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;dictcomp&gt;</div><div class="line">TypeError: unhashable type: <span class="string">'list'</span></div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure></p><p>交换后字典元素数变少，原因是有重复值，字典的键具有唯一性。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>d = &#123;<span class="string">'A'</span> : <span class="number">1</span>, <span class="string">'B'</span> : <span class="number">1</span>, <span class="string">'C'</span> : <span class="number">1</span>&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>d5 = &#123;v:k <span class="keyword">for</span> k,v <span class="keyword">in</span> d.items()&#125;</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>d5</div><div class="line">&#123;<span class="number">1</span>: <span class="string">'B'</span>&#125;</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;问题描述&quot;&gt;&lt;a href=&quot;#问题描述&quot; class=&quot;headerlink&quot; title=&quot;问题描述&quot;&gt;&lt;/a&gt;问题描述&lt;/h2&gt;&lt;p&gt;如何交换字典的键和值？有如下字典：&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;d = &amp;#123;&lt;span class=&quot;string&quot;&gt;&#39;A&#39;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;B&#39;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;C&#39;&lt;/span&gt; : &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;交换后的结果如下：&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&amp;#123;&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;A&#39;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;B&#39;&lt;/span&gt;, &lt;span class=&quot;number&quot;&gt;3&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&#39;C&#39;&lt;/span&gt;&amp;#125;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="基础数据类型" scheme="http://www.codingonway.com/categories/%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/"/>
    
    
      <category term="字典" scheme="http://www.codingonway.com/tags/%E5%AD%97%E5%85%B8/"/>
    
  </entry>
  
</feed>
